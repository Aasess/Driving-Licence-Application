<!DOCTYPE html>
<html lang="en">
  <%- include("layouts/header",{title:"Driver Status"}) %>
  <body id="page-top">
    <%- include("layouts/navbar") %>

    <header class="mainhead no-bg-image">
      <div class="container">
        <div class="mainhead-heading text-uppercase">Driver Status</div>
      </div>
    </header>

    <section class="page-section container">
      <div class="mt-3">
        <% if(data.length > 0) { %>
        <table class="table table-striped">
          <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col">Driver Name</th>
              <th scope="col">Age</th>
              <th scope="col">Model</th>
              <th scope="col">Plate Number</th>
              <th scope="col">Type</th>
              <th scope="col">Status</th>
            </tr>
          </thead>
          <% data.forEach((driver,index) => { %>
          <tr>
            <td><%= index + 1 %></td>
            <td><%= driver.firstName %> <%= driver.lastName %></td>
            <td><%= driver.age %></td>
            <td><%= driver.car_details?.model %></td>
            <td><%= driver.car_details?.plateNo %></td>
            <td><%= driver.testType %></td>
            <td>
              <span
                class="badge <%= typeof driver.isPass === 'boolean'?driver.isPass?'bg-info':'bg-danger':'bg-secondary' %>"
                ><%= typeof driver.isPass === 'boolean'?driver.isPass ?
                "Pass":"Fail":"N/A" %></span
              >
            </td>
          </tr>
          <% }); %>
        </table>
        <% } else { %>
        <p>No drivers with Pass/Fail result found.</p>
        <% } %>
      </div>
    </section>

    <%- include("layouts/footer"); %>
    <!-- script include -->
    <%- include("layouts/script") %>
  </body>
</html>
